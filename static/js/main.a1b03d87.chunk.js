(this["webpackJsonpgiffy-app"]=this["webpackJsonpgiffy-app"]||[]).push([[0],[,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r}));var c="https://api.giphy.com/v1",i="7XIrr16tQKMClBgk5uWHFjHbowtammMS",a="".concat(c,"/gifs/trending?api_key=").concat(i,"&limit=25&rating=g");function r(e,t){var n="".concat(c,"/gifs/search?api_key=").concat(i,"&q=").concat(e,"&limit=10&offset=").concat(10*t,"&rating=g&lang=en");return{$api_url:e?n:a}}},,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(10),r=n.n(a),s=(n(18),n(2)),o=n(0),j=i.a.createContext({});function u(e){var t=e.children,n=Object(c.useState)([]),i=Object(s.a)(n,2),a=i[0],r=i[1];return Object(o.jsx)(j.Provider,{value:{gifs:a,setGifs:r},children:t})}var f=j,l=n(4),d=(n(20),n(8));function b(e,t){var n=Object(d.c)(e,t).$api_url;return fetch(n).then((function(e){return e.json()})).then(O)}var O=function(e){var t=e.data;return(void 0===t?[]:t).map((function(e){return{title:e.title,id:e.id,url:e.images.downsized_medium.url}}))};function h(e){var t=Object(c.useContext)(f),n=t.gifs,i=t.setGifs,a=Object(c.useState)(!1),r=Object(s.a)(a,2),o=r[0],j=r[1],u=Object(c.useState)(0),l=Object(s.a)(u,2),d=l[0],O=l[1];return Object(c.useEffect)((function(){j(!0),b(e).then((function(e){i(e),j(!1)}))}),[e,i]),Object(c.useEffect)((function(){0!==d&&b(e,d).then((function(e){i((function(t){return t.concat(e)}))}))}),[d,e,i]),{gifs:n,loading:o,setPage:O}}n(21);function m(e){var t=e.title,n=e.url,c=e.id;return Object(o.jsx)(l.a,{to:"/giffy-app/gifs/detail/".concat(c),children:Object(o.jsx)("div",{className:"wrapImgGif",children:Object(o.jsx)("img",{className:"imgGif",loading:"lazy",src:n,alt:t})})})}var x=i.a.memo(m);n(22);function g(){return Object(o.jsx)("div",{className:"spinner"})}n(23);function v(e){var t=e.keyword,n=h(t),c=n.gifs,i=n.loading;return Object(o.jsxs)("div",{className:"containerGifList",children:[t?Object(o.jsx)("h2",{className:"tittleGifList",children:decodeURI(t)}):Object(o.jsxs)("h2",{className:"tittleGifList",children:["Trending ",Object(o.jsx)("i",{className:"fas fa-chart-line"})]}),Object(o.jsx)("div",{className:"wrpaListOfGifs",children:i?Object(o.jsx)(g,{}):c.map((function(e){return Object(o.jsx)(x,{id:e.id,title:e.title,url:e.url},e.id)}))})]})}var p=i.a.memo(v);n(24);function y(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(l.d)(),r=Object(s.a)(a,2),j=(r[0],r[1]),u=Object(c.useCallback)((function(e){i(e.target.value)}),[]),f=Object(c.useCallback)((function(e){e.preventDefault(),j("/giffy-app/gifs/".concat(n))}),[j,n]);return Object(o.jsxs)("form",{className:"wrapInputSearch",onSubmit:f,value:n,children:[Object(o.jsx)("label",{children:Object(o.jsx)("i",{className:"fas fa-search"})}),Object(o.jsx)("input",{className:"inputSearch",onChange:u,placeholder:"Search you favorite gifs ..."})]})}var k=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(c.useCallback)((function(){var e=document.body.classList;e.toggle("isDarkMode"),i(e.contains("isDarkMode"))}),[]);return Object(o.jsxs)("div",{className:"wrapDarkMode",onClick:a,children:[n?Object(o.jsx)("i",{className:"fas fa-sun"}):Object(o.jsx)("i",{className:"far fa-moon"}),"DarkMode"]})};n(25);function N(){return Object(o.jsxs)("div",{className:"containerHeader",children:[Object(o.jsxs)("div",{className:"wrapTitle-DarkMode",children:[Object(o.jsx)(l.a,{className:"title",to:"/giffy-app/",children:"Giffy"}),Object(o.jsx)(k,{})]}),Object(o.jsx)(y,{})]})}var w=i.a.memo(N);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.once,n=void 0===t||t,i=Object(c.useState)(!1),a=Object(s.a)(i,2),r=a[0],o=a[1],j=Object(c.useRef)();return Object(c.useEffect)((function(){var e=new IntersectionObserver((function(e,t){e[0].isIntersecting?(o(!0),n&&t.disconnect()):!n&&o(!1)}),{rootMargin:"200px"});return e.observe(j.current),function(){return e.disconnect()}}),[n]),{isNearScreen:r,elementOfObserver:j}}var C=i.a.lazy((function(){return n.e(3).then(n.bind(null,34))}));function G(){var e=S(),t=e.isNearScreen,n=e.elementOfObserver;return Object(o.jsx)("div",{ref:n,children:Object(o.jsx)(c.Suspense,{fallback:null,children:t?Object(o.jsx)(C,{}):null})})}var I=n(5);var M=function(){return Object(o.jsxs)("div",{children:[Object(o.jsxs)(I.a,{children:[Object(o.jsx)("title",{children:"Giffy | Roberto Bocio Melo"}),Object(o.jsx)("meta",{name:"description",content:"This App is to search gifs"})]}),Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"wrpaHome",children:[Object(o.jsx)(p,{}),Object(o.jsx)(G,{})]})]})},D=(n(29),n(13)),E=n.n(D);function L(e){var t=e.params,n=h(t.keyword).setPage,i=S({once:!1}),a=i.isNearScreen,r=i.elementOfObserver,s=Object(c.useCallback)(E()((function(){return n((function(e){return e+1}))}),500),[]);return Object(c.useEffect)((function(){a&&s()}),[s,a]),Object(o.jsxs)("div",{className:"wrapSearchResults",children:[Object(o.jsxs)(I.a,{children:[Object(o.jsxs)("title",{children:["Results of ",decodeURI(t.keyword)]}),Object(o.jsx)("meta",{name:"description",content:"This page is show the results on search ".concat(decodeURI(t.keyword))})]}),Object(o.jsx)(w,{}),Object(o.jsx)(p,{keyword:t.keyword}),Object(o.jsx)("div",{ref:r})]})}var R=i.a.memo(L),_=(n(30),function(e){var t=e.data,n=t.id,c=t.images;return{id:n,title:t.title,url:c.downsized_medium.url}});function F(e){var t=e.id,n=Object(c.useContext)(f).gifs.find((function(e){return e.id===t})),i=Object(c.useState)(n),a=Object(s.a)(i,2),r=a[0],o=a[1],j=Object(c.useState)(!1),u=Object(s.a)(j,2),l=u[0],b=u[1],O=Object(c.useState)(!1),h=Object(s.a)(O,2),m=h[0],x=h[1];return Object(c.useEffect)((function(){r||(b(!0),function(e){var t=e.id;return fetch("".concat(d.b,"/gifs/").concat(t,"?api_key=").concat(d.a)).then((function(e){return e.json()})).then(_)}({id:t}).then((function(e){o(e),b(!1),x(!1)})).catch((function(){b(!1),x(!0)})))}),[t,r]),{gif:r,loading:l,IsError:m}}function T(e){var t=F({id:e.params.id}),n=t.gif,c=t.loading,i=t.IsError;return c?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(I.a,{children:Object(o.jsx)("title",{children:"Cargando..."})}),Object(o.jsx)(g,{})]}):i?Object(o.jsx)(l.b,{to:"/giffy-app/"}):n?Object(o.jsxs)("div",{children:[Object(o.jsx)(I.a,{children:Object(o.jsxs)("title",{children:[n.title," | Giffy"]})}),Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"containerGifDetali",children:[Object(o.jsx)("h2",{className:"titleGifDetail",children:n.title}),Object(o.jsx)(x,{title:n.title,id:n.id,url:n.url})]})]}):null}var P=i.a.memo(T,(function(e,t){return e.id===t.id}));var z=function(){return Object(o.jsxs)(u,{children:[Object(o.jsx)(l.c,{path:"/giffy-app/",component:M}),Object(o.jsx)(l.c,{path:"/giffy-app/gifs/:keyword",component:R}),Object(o.jsx)(l.c,{path:"/giffy-app/gifs/detail/:id",component:P})]})},B=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,33)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(z,{})}),document.getElementById("root")),B()}],[[31,1,2]]]);
//# sourceMappingURL=main.a1b03d87.chunk.js.map