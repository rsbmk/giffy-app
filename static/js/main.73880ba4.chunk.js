(this["webpackJsonpgiffy-app"]=this["webpackJsonpgiffy-app"]||[]).push([[0],[,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a}));var i="https://api.giphy.com/v1",c="7XIrr16tQKMClBgk5uWHFjHbowtammMS",r="".concat(i,"/gifs/trending?api_key=").concat(c,"&limit=25&rating=g");function a(e,t,n,a){var s="".concat(i,"/gifs/search?api_key=").concat(c,"&q=").concat(e,"&limit=20&offset=").concat(20*t,"&rating=").concat(n,"&lang=").concat(a);return{$api_url:e?s:r}}},,function(e,t,n){"use strict";var i=n(1),c=n.n(i),r=n(4),a=(n(26),n(0));function s(e){var t=e.title,n=e.url,i=e.id;return Object(a.jsx)(r.a,{to:"/giffy-app/detail/gif/".concat(i),children:Object(a.jsx)("div",{className:"wrapImgGif",children:Object(a.jsx)("img",{className:"imgGif",loading:"lazy",src:n,alt:t})})})}t.a=c.a.memo(s)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(1),n(27);var i=n(0);function c(){return Object(i.jsx)("div",{className:"spinner"})}},function(e,t,n){"use strict";n.r(t),n.d(t,"Header",(function(){return u}));var i=n(1),c=n.n(i),r=(n(28),n(4)),a=n(0),s=c.a.lazy((function(){return n.e(3).then(n.bind(null,36))})),o=c.a.lazy((function(){return n.e(5).then(n.bind(null,35))}));function u(){return Object(a.jsxs)("div",{className:"containerHeader",children:[Object(a.jsxs)("div",{className:"wrapTitle-DarkMode",children:[Object(a.jsx)(r.a,{className:"title",to:"/giffy-app/",children:"Giffy"}),Object(a.jsx)(o,{})]}),Object(a.jsx)(s,{})]})}t.default=c.a.memo(u)},,function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=(n(25),n(10)),a=n(11),s=n(0);function o(e){var t=e.keyword,n=e.gifList,i=e.loading;return Object(s.jsxs)("div",{className:"containerGifList",children:[t?Object(s.jsx)("h2",{className:"tittleGifList",children:decodeURI(t)}):Object(s.jsxs)("h2",{className:"tittleGifList",children:["Trending ",Object(s.jsx)("i",{className:"fas fa-chart-line"})]}),Object(s.jsx)("div",{className:"wrpaListOfGifs",children:i?Object(s.jsx)(a.a,{}):n.map((function(e){return Object(s.jsx)(r.a,{id:e.id,title:e.title,url:e.url},e.id)}))})]})}t.default=c.a.memo(o,(function(e,t){return e.gifList===t.gifList&&e.loading===t.loading}))},,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=n(13),a=n.n(r),s=(n(22),n(3)),o=n(0),u=c.a.createContext({});function l(e){var t=e.children,n=Object(i.useState)([]),c=Object(s.a)(n,2),r=c[0],a=c[1];return Object(o.jsx)(u.Provider,{value:{gifs:r,setGifs:a},children:t})}var f=u,j=n(4),d=(n(24),n(14)),b=n(12);function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.once,n=void 0===t||t,c=Object(i.useState)(!1),r=Object(s.a)(c,2),a=r[0],o=r[1],u=Object(i.useRef)();return Object(i.useEffect)((function(){var e=new IntersectionObserver((function(e,t){e[0].isIntersecting?(o(!0),n&&t.disconnect()):!n&&o(!1)}),{rootMargin:"200px"});return e.observe(u.current),function(){return e.disconnect()}}),[n]),{isNearScreen:a,elementOfObserver:u}}var g=c.a.lazy((function(){return n.e(6).then(n.bind(null,44))}));function h(){var e=O(),t=e.isNearScreen,n=e.elementOfObserver;return Object(o.jsx)("div",{ref:n,children:Object(o.jsx)(i.Suspense,{fallback:null,children:t?Object(o.jsx)(g,{}):null})})}var m=c.a.memo(h),p=n(8);function v(e){var t=e.keyword,n=e.page,i=e.rating,c=e.language,r=Object(p.c)(t,n,i,c).$api_url;return fetch(r).then((function(e){return e.json()})).then(x)}var x=function(e){var t=e.data;return(void 0===t?[]:t).map((function(e){return{title:e.title,id:e.id,url:e.images.downsized_medium.url}}))};function y(e,t,n){var c=Object(i.useContext)(f),r=c.gifs,a=c.setGifs,o=Object(i.useState)(!1),u=Object(s.a)(o,2),l=u[0],j=u[1],d=Object(i.useState)(0),b=Object(s.a)(d,2),O=b[0],g=b[1];return Object(i.useEffect)((function(){j(!0),v({keyword:e,rating:t,language:n}).then((function(e){a(e),j(!1)}))}),[e,a,t,n]),Object(i.useEffect)((function(){0!==O&&v({keyword:e,page:O,rating:t,language:n}).then((function(e){a((function(t){return t.concat(e)}))}))}),[O,e,a,t,n]),{gifs:r,loading:l,setPage:g}}var w=n(5);function k(){var e=y(),t=e.gifs,n=e.loading;return Object(o.jsxs)("div",{children:[Object(o.jsxs)(w.a,{children:[Object(o.jsx)("title",{children:"Giffy | Roberto Bocio Melo"}),Object(o.jsx)("meta",{name:"description",content:"This App is to search gifs"})]}),Object(o.jsx)(b.default,{}),Object(o.jsxs)("div",{className:"wrpaHome",children:[Object(o.jsx)(d.default,{gifList:t,loading:n}),Object(o.jsx)(m,{})]})]})}var N=c.a.memo(k),S=(n(32),n(17)),G=n.n(S),I=c.a.lazy((function(){return Promise.resolve().then(n.bind(null,14))})),L=c.a.lazy((function(){return Promise.resolve().then(n.bind(null,12))}));function C(e){var t=e.params,n=t.keyword,c=y(n,t.rating,t.language),r=c.gifs,a=c.loading,s=c.setPage,u=O({once:!1}),l=u.isNearScreen,f=u.elementOfObserver,j=Object(i.useCallback)(G()((function(){return s((function(e){return e+1}))}),500),[]);return Object(i.useEffect)((function(){l&&j()}),[j,l]),Object(o.jsxs)("div",{className:"wrapSearchResults",children:[Object(o.jsxs)(w.a,{children:[Object(o.jsxs)("title",{children:["Results of ",decodeURI(n)]}),Object(o.jsx)("meta",{name:"description",content:"This page is show the results on search ".concat(decodeURI(n))})]}),Object(o.jsx)(L,{}),Object(o.jsx)(I,{keyword:n,gifList:r,loading:a}),Object(o.jsx)("div",{ref:f})]})}var z=c.a.memo(C,(function(e,t){return e.params.keyword===t.params.keyword&&e.params.rating===t.params.rating})),E=(n(33),n(10)),P=n(11),R=function(e){var t=e.data,n=t.id,i=t.images;return{id:n,title:t.title,url:i.downsized_medium.url}};function _(e){var t=e.id,n=Object(i.useContext)(f).gifs.find((function(e){return e.id===t})),c=Object(i.useState)(n),r=Object(s.a)(c,2),a=r[0],o=r[1],u=Object(i.useState)(!1),l=Object(s.a)(u,2),j=l[0],d=l[1],b=Object(i.useState)(!1),O=Object(s.a)(b,2),g=O[0],h=O[1];return Object(i.useEffect)((function(){a||(d(!0),function(e){var t=e.id;return fetch("".concat(p.b,"/gifs/").concat(t,"?api_key=").concat(p.a)).then((function(e){return e.json()})).then(R)}({id:t}).then((function(e){o(e),d(!1),h(!1)})).catch((function(){d(!1),h(!0)})))}),[t,a]),{gif:a,loading:j,IsError:g}}function F(e){var t=_({id:e.params.id}),n=t.gif,i=t.loading,c=t.IsError;return i?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(w.a,{children:Object(o.jsx)("title",{children:"Cargando..."})}),Object(o.jsx)(P.a,{})]}):c?Object(o.jsx)(j.b,{to:"/giffy-app/"}):n?Object(o.jsxs)("div",{children:[Object(o.jsx)(w.a,{children:Object(o.jsxs)("title",{children:[n.title," | Giffy"]})}),Object(o.jsx)(b.default,{}),Object(o.jsxs)("div",{className:"containerGifDetali",children:[Object(o.jsx)("h2",{className:"titleGifDetail",children:n.title}),Object(o.jsx)(E.a,{title:n.title,id:n.id,url:n.url})]})]}):null}var M=c.a.memo(F,(function(e,t){return e.id===t.id}));var T=function(){return Object(o.jsxs)(l,{children:[Object(o.jsx)(j.c,{path:"/giffy-app/",component:N}),Object(o.jsx)(j.c,{path:"/giffy-app/search/:keyword/:rating/:language",component:z}),Object(o.jsx)(j.c,{path:"/giffy-app/detail/gif/:id",component:M})]})},H=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,42)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};a.a.render(Object(o.jsx)(i.Suspense,{fallback:null,children:Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(T,{})})}),document.getElementById("root")),H()}],[[34,1,2]]]);
//# sourceMappingURL=main.73880ba4.chunk.js.map